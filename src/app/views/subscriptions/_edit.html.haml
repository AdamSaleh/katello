= javascript :edit_helpers
= render :partial=>"subscriptions_tupane_header_nav"

= content_for :content do
  #subscription
    %input#panel_element_id{:name=>@subscription.id, :type=>"hidden", :value=>"#{name}_#{subscription.id.to_s}", "data-ajax_url"=>url_for(:action=>"update")}
    .grid_10
      %h5 #{_("Subscription Info")}
    .grid_10#subscription_info
      %fieldset
        .grid_2.ra.fieldset
          =label :name, :name, _("Name")
        .grid_8.la
          = @subscription.productName
      %fieldset
        .grid_2.ra.fieldset
          =label :name, :name, _("Description")
        .grid_8.la
          = @subscription.description
      %fieldset
        .grid_2.ra.fieldset
          =label :consumed, :consumed, _("Consumed")
        .grid_8.la
          - if @subscription.quantity < 0
            = _("Unlimited")
          - else
            = _("%d of %d") % [@subscription.consumed, @subscription.quantity]
      %fieldset
        .grid_2.ra.fieldset
          =label :date_range, :date_range, _("Starts / Ends")
        .grid_8.la
          = _("%s / %s") % [format_time(@subscription.startDate), format_time(@subscription.endDate)]
      %fieldset
        .grid_2.ra.fieldset
          =label :contract, :contract, _("Contract Number")
        .grid_8.la
          = @subscription.contractNumber
      %fieldset
        .grid_2.ra.fieldset
          =label :account, :account, _("Account Number")
        .grid_8.la
          = @subscription.accountNumber
      %fieldset
        .grid_2.ra.fieldset
          =label :supportLevel, :supportLevel, _("Support Level")
        .grid_8.la
          = @subscription.supportLevel
      %fieldset
        .grid_2.ra.fieldset
          =label :supporttype, :supporttype, _("Support Type")
        .grid_8.la
          = @subscription.supportType
      %fieldset
        .grid_2.ra.fieldset
          =label :arch, :arch, _("Arch")
        .grid_8.la
          = @subscription.arch
      %fieldset
        .grid_2.ra.fieldset
          =label :systype, :systype, _("Type")
        .grid_8.la
          = @subscription.virtOnly ? _("Virtual Only") : _("Physical or Virtual")
      %fieldset
        .grid_2.ra.fieldset
          =label :sockets, :sockets, _("Sockets")
        .grid_8.la
          = @subscription.sockets
      - if !@subscription.sourcePoolId.nil?
        %fieldset
          .grid_2.ra.fieldset
            =label :sourcepool, :sourcepool, _("Bonus From")
          .grid_8.la
            = subscriptions_pool_link_helper(@subscription.sourcePoolId)
      - if !@subscription.hostId.nil?
        %fieldset
          .grid_2.ra.fieldset
            =label :host, :host, _("Required Host")
          .grid_8.la
            = @subscription.hostId
    - if @subscription.providedProducts.length > 0
      .clear
      .grid_10
        %h5 #{_("Provided Products")}
      .grid_10#provided_products
        %fieldset
          - @subscription.providedProducts.each do |providedProduct|
            .grid_8.la
              = providedProduct['productName']
